@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model GameForum.ViewModel.CategoryPosts
<div class="space"></div>
<h1 class="text-light">@Model.Category.Name</h1>
<table class="table text-light">
    <thead>
        <tr>
            <td>Topic</td>
            <td>Author</td>
            <td>Replies</td>
            <td>Activity</td>
        </tr>
    </thead>

    <tbody>
        @foreach (var post in Model.Posts)
        {
            <tr class="clickable-row" onclick="postClicked(@post.Id)">
                <td>@post.Title</td>
                <td>@post.Author?.UserName</td>
                <td>@(post.Replies == null ? 0 : post.Replies.Count)</td>
                <td>0</td>
            </tr>
        }
    </tbody>
</table>

@section Scripts{
    <script>
        function postClicked(postId) {
            window.location.href = "/Post/" + postId
        }
    </script>
}